{
  "article": {
    "id": 360013027534,
    "url": "https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/experimental/articles/360013027534.json",
    "html_url": "https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/experimental/articles/360013027534.html",
    "author_id": 360322304667,
    "comments_disabled": true,
    "draft": false,
    "promoted": false,
    "position": 4,
    "vote_sum": 7,
    "vote_count": 7,
    "section_id": 20416681683219,
    "created_at": "2018-12-03T21:29:47Z",
    "updated_at": "2025-05-13T17:49:56Z",
    "name": "Lucene Query Syntax Guide",
    "title": "Lucene Query Syntax Guide",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2025-04-17T13:30:37Z",
    "user_segment_id": null,
    "permission_group_id": 195648,
    "content_tag_ids": [],
    "label_names": [
      "phisher",
      "PhishER",
      "lucene query",
      "query syntax",
      "phisher search",
      "search",
      "phishRIP",
      "localized",
      "answerbot",
      "answerbot_phisher"
    ],
    "body": "<p>Lucene is a query language that you can use to search for specific messages. You can use Lucene to run queries in your PhishER Inbox or on the <strong>PhishRIP Queries</strong> page.</p>\n<p>This article is an overview of Lucene query syntax to help you get started with running custom queries in your PhishER platform. For more information, see Apache\u2019s <a href='https://lucene.apache.org/core/2_9_4/queryparsersyntax.html' target='_blank' rel='noopener'>Lucene - Query Parser Syntax</a> documentation.</p>\n<h2 id='h_01HAQFSWC76THZYCXNQPXC69CJ'>Writing a Query</h2>\n<p>Lucene query syntax can be broken down into three parts: fields, terms, and operators or modifiers. You can use these strings to run queries, which allow you to search for messages from your PhishER Inbox and on the <strong>PhishRIP Queries</strong> page. You can use a combination of a field, term, and an operator or modifier to form a query string. Below is an example of a Lucene query string:</p>\n<p><code>field_name: \"This is the phrase I want to search for!\" AND \"This\"</code></p>\n<p>See the sections below to learn more about writing a query string using fields, terms, and operators or modifiers.</p>\n<h2 id='h_01HAQFSWC72Z0HR0V7NG5K9QPZ'>Fields</h2>\n<p>A field is the ID or name used to find specific information from a message. For example, you can use fields to filter messages by information such as who reported the email or when the email was reported. If a field is referenced in a query string, you must enter a colon ( : ) after the field name.</p>\n<p>See the table below for a list of fields you can use in queries from your PhishER Inbox:</p>\n<table style='table-layout: auto;'>\n<caption>\n<h3 id='h_01HXABMHVD6PY84KSZBKFGF7AT'>PhishER Inbox</h3>\n</caption>\n<thead>\n<tr>\n<th scope='col'>Field Name</th>\n<th scope='col'>Use Case</th>\n<th scope='col'>Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>attachment_names</td>\n<td>Use this field to filter messages by file name or extension type.</td>\n<td>\n<p>attachment_names: \"inv.pdf\"</p>\n<p>attachment_names: *.doc</p>\n</td>\n</tr>\n<tr>\n<td>cc</td>\n<td>Use this field to filter messages by an email address that was copied on the original message.</td>\n<td>cc: \"@knowbe4.com\"</td>\n</tr>\n<tr>\n<td>from_name</td>\n<td>Use this field to filter messages by the sender name tied to the original message.</td>\n<td>\n<p>from_name: \"CyberheistNews\"</p>\n<p>from_name: Cyberheist*</p>\n</td>\n</tr>\n<tr>\n<td>hosts</td>\n<td>Use this field to filter messages by the hostname(s) tied to the message.</td>\n<td>\n<p>hosts: \"knowbe4.com\"</p>\n<p>hosts: *google.com</p>\n</td>\n</tr>\n<tr>\n<td>reported_at</td>\n<td>Use this field name to search for messages reported on a specific date.The following date format is acceptable:YYYY-MM-DD</td>\n<td>reported_at: \"2018-11-27\"</td>\n</tr>\n<tr>\n<td>reported_by</td>\n<td>Use this field to filter messages by the reporter's email address.</td>\n<td>reported_by: *@knowbe4.com (http://knowbe4.com/)</td>\n</tr>\n<tr>\n<td>reported_by_name</td>\n<td>\n<p>Use this field to filter messages by the reporter's name.</p>\n<div class='callout-remember'>\n<div class='callout__content'>\n<strong>Important:</strong> This search is case-sensitive.</div>\n</div>\n</td>\n<td>reported_by_name: \"First Last\"</td>\n</tr>\n<tr>\n<td>sent_at</td>\n<td>Use this field to filter messages by the date it was sent to the reporter. The following date format is accepted:YYYY-MM-DD</td>\n<td>\n<p>sent_at: \"2018-12-04\"</p>\n<p>sent_at:[2020-03-03 TO *]</p>\n<p>sent_at:[2020-03-03 TO 2020-04-04]</p>\n<p>sent_at:[2020-03 TO 2020-04]</p>\n</td>\n</tr>\n<tr>\n<td>subject</td>\n<td>Use this field to filter messages by their subject lines.</td>\n<td>\n<p>subject: \"invoice\"</p>\n<p>subject: immediate*</p>\n</td>\n</tr>\n<tr>\n<td>tags</td>\n<td>Use this field to filter messages by the tags attached to them.</td>\n<td>tags: \"threat\"-tags: \"threat\"</td>\n</tr>\n<tr>\n<td>to</td>\n<td>Use this field to filter messages by the recipient's email address.</td>\n<td>\n<p>to: \"@knowbe4.com\"</p>\n<p>to: *know*</p>\n</td>\n</tr>\n<tr>\n<td>urls</td>\n<td>Use this field to filter messages by URLs found in the message.</td>\n<td>\n<p>urls: \"knowbe4.com\"</p>\n<p>urls:*</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>See the table below for a list of fields you can use in PhishER queries from the PhishRIP Queries page:</p>\n<table style='table-layout: auto;'>\n<caption>\n<h3 id='h_01HXABMHVE27JQSTD3H8WR1SCK'>PhishRIP Queries</h3>\n</caption>\n<thead>\n<tr>\n<th scope='col'>Field Name</th>\n<th scope='col'>Use Case</th>\n<th scope='col'>Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>source_id</td>\n<td>\n<p>Use this field to filter queries by the PhishER message used to initiate PhishRIP.</p>\n<div class='callout-note'>\n<div class='callout__content'>\n<strong>Note:</strong>You can view the message in the PhishER Inbox by navigating to the URL below. You will need to replace the source_id with the specific source ID for the message: https://phisher.knowbe4.come/inbox/<strong>source_id</strong>\n</div>\n</div>\n</td>\n<td>\n<p>source_id: \"b039476c-7534-4d52-b162-b8058acbb1e0\"</p>\n<p>https://phisher.knowbe4.com/inbox/b039476c-7534-4d52-b162-b8058acbb1e0</p>\n</td>\n</tr>\n<tr>\n<td>id</td>\n<td>Use this field to search for an individual PhishRIP query.</td>\n<td>id: \"98719b0a-b739-485f-98fe-6c343c21c27f\"</td>\n</tr>\n<tr>\n<td>started</td>\n<td>\n<p>Use this field to filter messages by the date when the query was created.</p>\n<p>The following date format is acceptable: YYYY-MM-DD</p>\n</td>\n<td>started:\"2020-04-04\"</td>\n</tr>\n<tr>\n<td>originator</td>\n<td>Use this field to filter queries by the first and last name of a user who initiated PhishRIP.</td>\n<td>originator:\"John Doe\"</td>\n</tr>\n</tbody>\n</table>\n<h2 id='h_01HAQFSWC7ZRA5Z16CCA3R2BNM'>Terms</h2>\n<p>A term is a word or phrase that you can search for. You can search for two types of terms: Single Terms and Phrases. An example of a Single Term is \"urgent,\" and an example of a Phrase is \"action needed\u201d. Terms do not have to be enclosed in quotation marks. You can combine multiple terms together with operators or modifiers to form a more complex query.</p>\n<h2 id='h_01HAQFSWC7750YG82K6VRM2D05'>Operators and Modifiers</h2>\n<p>An operator or a modifier is a symbol or keyword that you can use to search for terms or exclude terms from your search.</p>\n<p>See the table below for a list of operators or modifiers and their meanings:</p>\n<div class='callout-note'>\n<div class='callout__content'>\n<strong>Note:</strong> This list includes basic operators and modifiers. For a full list of operators and modifiers, see Apache\u2019s <a href='https://lucene.apache.org/core/2_9_4/queryparsersyntax.html' target='_blank' rel='noopener'>Lucene - Query Parser Syntax</a> documentation.</div>\n</div>\n<table style='table-layout: auto;'>\n<thead>\n<tr>\n<th scope='col'>Operators and Modifier</th>\n<th scope='col'>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>AND</td>\n<td>You can use this option to find both terms that exist in the text of an email. You can use the <strong>&amp;&amp;</strong> symbol instead of the word <strong>AND</strong>.</td>\n</tr>\n<tr>\n<td>OR</td>\n<td>You can use this option to find at least one term that exists in the text of an email. You can use the <strong>||</strong> symbol instead of the word <strong>OR</strong>.</td>\n</tr>\n<tr>\n<td>NOT</td>\n<td>You can use this option to exclude emails that contain the term after the word <strong>NOT</strong>. You can use the<strong> !</strong> symbol or the <strong>-</strong> symbol instead of the word <strong>NOT</strong>.</td>\n</tr>\n<tr>\n<td>*</td>\n<td>\n<p>You can use this wildcard placeholder for multiple characters. This placeholder can only be used with Single Terms.</p>\n<div class='callout-note'>\n<div class='callout__content'>\n<strong>Note:</strong> Wildcard placeholders cannot be used as the first character of a search.</div>\n</div>\n<p>For example, to search for need, needs, or needed, you can search for the following text:</p>\n<code>need*</code>\n</td>\n</tr>\n<tr>\n<td>?</td>\n<td>\n<p>You can use this wildcard placeholder for a single character. This placeholder looks for terms that match but have a single character replaced.</p>\n<p>For example, to search for a specific reporter, you can search for the following text:</p>\n<code>reported_by: *@k?owbe4.com AND sent_at:[2020-03-03 TO *]</code>\n</td>\n</tr>\n</tbody>\n</table>\n<h2 id='h_01HAQFSWC7RTJ8FAN9Y73F2TN0'>Running a Query</h2>\n<p>To run a query from your PhishER Inbox, follow the steps below:</p>\n<ol role='list'>\n<li>Navigate to your PhishER <strong>Inbox</strong>.</li>\n<li>Enter your query string in the <strong>Search\u2026</strong> bar in the top-left corner of the page. <a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/PhishER/Documentation/LuceneQuerySyntax/searchInbox.png'><img src='https://helpimg.s3.amazonaws.com/PhishER/Documentation/LuceneQuerySyntax/searchInbox.png' alt=' ' width='545' height='240'></a>\n</li>\n<li>Press the\u00a0<strong>Enter</strong> key or the\u00a0<strong>Return\u00a0</strong>key on your keyboard.\u00a0</li>\n</ol>\n<p>To run a query from the <strong>PhishRIP Queries</strong> page, follow the steps below:</p>\n<ol role='list'>\n<li>Navigate to PhishRIP.</li>\n<li>Enter your query string in the <strong>Search\u2026</strong> bar in the top-left corner of the page. <a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/PhishER/Documentation/LuceneQuerySyntax/searchQueries.png'><img src='https://helpimg.s3.amazonaws.com/PhishER/Documentation/LuceneQuerySyntax/searchQueries.png' alt=' '></a>\n</li>\n<li>Press the\u00a0<strong>Enter\u00a0</strong>or the\u00a0<strong>Return</strong> key on your keyboard.\u00a0</li>\n</ol>\n<p>Once you've run the query, you can click its name to see the messages that were found.</p>\n<h2 id='h_01HAQFSWC71D2X75BF4NP5Q3PD'>Examples of Queries</h2>\n<p>Queries will vary depending on the information that you\u2019re searching for. See the table below for examples of query strings that you can customize and run in your PhishER Inbox:</p>\n<table>\n<thead>\n<tr>\n<th scope='col'>Query String</th>\n<th scope='col'>Search Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>tags: \"threat\" AND (subject: \"urgent\" OR \"immediately\")</code></td>\n<td>This query will search for all messages tagged as a threat with \"urgent\" or \"immediately\" in the subject line.</td>\n</tr>\n<tr>\n<td>\n<code>-from_name: your-organization-domain.com</code>\n<p><strong>OR</strong></p>\n<code>NOT from_name: your-organization-domain.com</code>\n</td>\n<td>This query will search for all messages that are not sent from your domain.Make sure to replace <strong>your-organization-domain.com</strong> with your organization's domain.</td>\n</tr>\n<tr>\n<td><code> subject: \"network*\" AND -tag: \"spam\" </code></td>\n<td>This query will search for all messages with words or phrases that start with \"network\" in the subject line. Messages tagged as spam will not be included.</td>\n</tr>\n</tbody>\n</table>",
    "user_segment_ids": [],
    "source_url": "https://support.knowbe4.com/hc/en-us/articles/360013027534-Lucene-Query-Syntax-Guide",
    "images": [
      {
        "url": "https://helpimg.s3.amazonaws.com/PhishER/Documentation/LuceneQuerySyntax/searchInbox.png",
        "alt": "This image displays a segment of a graphical user interface, featuring a navigation sidebar and a main content area.\n\n**Navigation Sidebar (Left):**\nA dark teal vertical sidebar contains branding and menu items.\n1.  **Logo:** An orange square containing the bold white letters \"ER\".\n2.  **Active Menu Item:** A menu entry labeled \"Dashboard\" accompanied by a bar chart icon. Other menu items are partially visible below it.\n\n**Main Content Area (Right):**\nThe primary content area has a white background and is titled with the large, dark grey header: **Inbox**.\n\n1.  **Search Input Field:** A rectangular input box is prominently displayed. It features a thin orange border, indicating potential focus. The field includes a magnifying glass icon and the light grey placeholder text \"Search...\".\n2.  **Contextual Text:** Immediately below the search field is a line of descriptive text: \"Searchable type: 'text' fields:\", where the literal string `'text'` is visually emphasized in bold font.",
        "position": 1,
        "context": "g in the Search\u2026 bar in the top-left corner of the page."
      },
      {
        "url": "https://helpimg.s3.amazonaws.com/PhishER/Documentation/LuceneQuerySyntax/searchQueries.png",
        "alt": "This screenshot displays a portion of a web application interface, segmented into a left navigation panel and a main content area.\n\n**Context and Header:**\nThe application branding features an orange logo with white letters \"ER\". The current view title is prominently displayed as **PhishRIP** Queries.\n\n**Navigation Panel (Partial):**\nThe dark navigation sidebar displays links including \"Dashboard\" (accompanied by a statistical graph icon) and \"Rooms\" (accompanied by a figure/whiteboard icon).\n\n**Main Content Area (Query Interface):**\nThe primary focus is a search functionality panel. It contains a large text input field, currently highlighted with a thin orange outline. This field includes a leading magnifying glass icon and the grayed-out placeholder text: \"Search...\".\n\nDirectly beneath the search bar, clarifying text provides context regarding the available fields: \"Searchable type: **'text'** fields:\".",
        "position": 2,
        "context": "in the Search\u2026 bar in the top-left corner of the page."
      }
    ],
    "metadata": {
      "category": "",
      "section": "",
      "topics": [
        "lucene",
        "query",
        "syntax"
      ],
      "image_count": 2
    }
  }
}