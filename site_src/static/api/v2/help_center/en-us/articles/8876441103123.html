
<!DOCTYPE html>
<html>
<head>
    <title>articles 8876441103123</title>
    <meta name="robots" content="noindex">
</head>
<body>
    <pre>{
  "article": {
    "id": 8876441103123,
    "url": "https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/8876441103123.json",
    "html_url": "https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/8876441103123.html",
    "author_id": 1915070258405,
    "comments_disabled": true,
    "draft": false,
    "promoted": false,
    "position": 16,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 45304403431955,
    "created_at": "2022-08-22T15:47:35Z",
    "updated_at": "2025-10-03T19:29:08Z",
    "name": "Microsoft Defender for Endpoint Integration Guide for SecurityCoach",
    "title": "Microsoft Defender for Endpoint Integration Guide for SecurityCoach",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2025-09-05T18:40:18Z",
    "user_segment_id": null,
    "permission_group_id": 195648,
    "content_tag_ids": [],
    "label_names": [
      "answerbot",
      "securitycoach",
      "security coach",
      "securitycoach integrations",
      "Security Coach",
      "answerbot_securitycoach"
    ],
    "body": "<p>In this article, you will learn how to integrate Microsoft Defender <span>for Endpoint, formerly Microsoft Defender ATP,</span> with SecurityCoach. Once you set up this integration, data provided by Microsoft Defender <span>for Endpoint</span> will be available under the <strong>SecurityCoach</strong> tab of your KSAT console. This data can be viewed in SecurityCoach reports and used to create detection rules for real-time coaching campaigns.</p>\n<div style='padding: 56.25% 0 0 0; position: relative;'><iframe style='position: absolute; top: 0; left: 0; width: 100%; height: 100%;' src='https://player.vimeo.com/video/812527744' frameborder='0' allow='autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media'></iframe></div>\n<p>\n<script src='https://player.vimeo.com/api/player.js'></script>\n</p>\n<p>For general information about SecurityCoach, see our <a href='https://support.knowbe4.com/hc/en-us/articles/6654432814355'>SecurityCoach Product Manual</a>. If you would like to learn how to integrate other Microsoft products with SecurityCoach, see the <a href='https://support.knowbe4.com/hc/en-us/sections/10969917980435-Vendor-Integration-Guides'>vendor integration guides</a> in our Knowledge Base.</p>\n<div class='callout-tip'>\n<div>\n<strong>Tip:</strong>SecurityCoach also supports integrating Microsoft Defender for Endpoint as a Splunk vendor. If your organization uses Splunk for security information and event management, we recommend integrating through Splunk instead by following our <a href='https://support.knowbe4.com/hc/en-us/articles/36888064642451/'>Splunk Integrations Guide for SecurityCoach</a>.</div>\n</div>\n<h2 id='h_01JZXJDE5BQVDYRYQ5HWAQ7N6X'>Prerequisites</h2>\n<p>One of the following Microsoft license bundles is required to ensure a successful Microsoft Defender for Endpoint integration:</p>\n<ul>\n<li>\n<strong>Microsoft 365 E5</strong> with the <strong>Microsoft 365 E5 Security</strong> add-on</li>\n<li><strong>Windows 11 Enterprise E5</strong></li>\n</ul>\n<p>For more information, see Microsoft\u2019s <a href='https://learn.microsoft.com/en-us/defender-xdr/prerequisites'>Defender XDR licensing requirements</a>.</p>\n<h2 id='h_01HER1YHYQA3WS8YHVY9QK73E6'>Set Up the Integration in Your Microsoft Azure Portal</h2>\n<p>Before you can set up the SecurityCoach integration in your KSAT console, you will need to register the SecurityCoach application, add API permissions, and create a client secret in your Microsoft Azure portal.</p>\n<div class='callout-remember'>\n<div>\n<strong>Important:</strong><span>To integrate Microsoft Defender <span>for Endpoint</span> with the KSAT console, you will need a unique API permission and client secret.</span>\n</div>\n</div>\n<p>To jump to the article subsection for each of these steps, click the links below:</p>\n<ul>\n<li><a href='#h_01HER1YHYQ32CT960Y3SDMS25G'>Register the Application</a></li>\n<li><a href='#h_01HER1YHYQYQ8JMYV8YMD1A9ZJ'>Add API Permissions</a></li>\n<li><a href='#h_01HER1YHYQWHEXQCA8C8GV6SX9'>Create a Client Secret</a></li>\n</ul>\n<h3 id='h_01HER1YHYQ32CT960Y3SDMS25G'>Register the Application</h3>\n<p>First, you will need to register the SecurityCoach application in your Microsoft Azure portal. To register the application, follow the steps below:</p>\n<ol>\n<li>Log in to your Microsoft Azure portal and navigate to your <strong>Azure Active Directory</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_azureactivedirectory.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_azureactivedirectory.png' alt=' '></a></p>\n</li>\n<li>From the sidebar on the left side of the page, select <strong>App registrations</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_appregistrations.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_appregistrations.png' alt=' '></a></p>\n</li>\n<li>Click <strong>+ New registration</strong> and enter a name for your application, such as \u201cKB4-DefenderATPAPP\u201d.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_newregistration.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_newregistration.png' alt=' '></a></p>\n</li>\n<li>Click <strong>Register</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_register.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_register.png' alt=' '></a></p>\n</li>\n</ol>\n<h3 id='h_01K4DJS4KRED8RBDE7J2HR5Y4J'>Add API Permissions</h3>\n<p>After you have registered the SecurityCoach application, you can add API permissions. To add API permissions, follow the steps below:</p>\n<ol>\n<li>Log in to your Microsoft Azure portal and navigate to your <strong>Microsoft Entra ID</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_azureactivedirectory.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_azureactivedirectory.png' alt=' '></a></p>\n</li>\n<li>From the sidebar on the left side of the page, select <strong>App registrations</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_appregistrations.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_appregistrations.png' alt=' '></a></p>\n</li>\n<li>Select the registered application for Microsoft Defender <span>for Endpoint</span>, Microsoft 365, or MCAS. In the example below, the registered application is titled \u201cMS-Alert\u201d.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_application.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_application.png' alt=' '></a></p>\n</li>\n<li>From the sidebar on the left side of the page, select <strong>API permissions</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_apipermissions.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_apipermissions.png' alt=' '></a></p>\n</li>\n<li>Click <strong>+ Add a permission</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_addapermission.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_addapermission.png' alt=' '></a></p>\n</li>\n<li>Enter \u201cwindowsdefender\u201d in the the <strong>Start typing an API name or Application ID</strong> search bar.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_starttyping.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_starttyping.png' alt=' '></a></p>\n</li>\n<li>Then, select <strong>WindowsDefenderATP</strong> from the <strong>APIs my organization uses</strong> subtab.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_windowsdefenderatp.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_windowsdefenderatp.png' alt=' '></a></p>\n</li>\n<li>\n<p>Click <strong>Application permissions</strong>.</p>\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_applicationpermissions.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_applicationpermissions.png' alt=' '></a></p>\n</li>\n<li>Click the <strong>Alert</strong> drop-down menu and select the check box next to <strong>Alert.Read.All</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_alertreadall.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_alertreadall.png' alt=' '></a></p>\n</li>\n<li>Click <strong>Grant admin consent for [your active directory name]</strong>. Once permission is granted, the triangle symbol on the right side of the page will change to a green check mark.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_granted.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_granted.png' alt=' '></a></p>\n</li>\n</ol>\n<h3 id='h_01K4DJS4KR8H5EQSH4PTFDB6ZQ'>Create a Client Secret</h3>\n<p>After you have registered the SecurityCoach application and added API permissions, you can create a client secret. To create a client secret, follow the steps below:</p>\n<ol>\n<li>Log in to your Microsoft Azure portal and navigate to your <strong>Microsoft Entra ID</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_azureactivedirectory.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_azureactivedirectory.png' alt=' '></a></p>\n</li>\n<li>From the sidebar on the left side of the page, select <strong>App registrations</strong> and click on the registered application you added permissions to in the <a href='#h_01HER1YHYQYQ8JMYV8YMD1A9ZJ'>Add API Permissions</a> section of this article. When you click on the registered application, the application\u2019s overview page will display.</li>\n<li>From the sidebar on the left side of the page, select <strong>Certificates &amp; secrets</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_certificatesandsecrets.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_certificatesandsecrets.png' alt=' '></a></p>\n</li>\n<li>Click <strong>+ New client secret</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_newclientsecret.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_newclientsecret.png' alt=' '></a></p>\n</li>\n<li>Enter a description for the client secret and select an expiry window.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_descriptionadd.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_descriptionadd.png' alt=' '></a></p>\n</li>\n<li>Click <strong>Add</strong>. Once you click <strong>Add</strong>, the client secret <strong>Value</strong> and <strong>Expires</strong> date will display.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_value.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_value.png' alt=' '></a></p>\n</li>\n<li>Copy and save client secret <strong>Value</strong> and <strong>Expires</strong> date somewhere that you can easily access. You will need these credentials to complete the integration setup in the <a href='#h_01HER1YHYQ6XNPKV2TH7CH8D23'>Set Up the Integration in Your KSAT Console</a> section below.</li>\n</ol>\n<h2 id='h_01HER1YHYQ6XNPKV2TH7CH8D23'>Set Up the Integration in Your KSAT Console</h2>\n<p>Once you've set up the integration in your Microsoft Azure portal, you can set up the integration in your KSAT console.</p>\n<div class='callout-note'>\n<div>\n<strong>Note:</strong>To complete these steps, you will need to have both your Microsoft Azure portal and your KSAT console open in your browser.</div>\n</div>\n<p>To set up the integration in your KSAT console, follow the steps below:</p>\n<ol>\n<li>Log in to your KSAT console and navigate to <strong>SecurityCoach</strong> &gt; <strong>Setup</strong>.</li>\n<li>In the <strong>Available Integrations</strong> section, locate the card for the Microsoft Defender <span>for Endpoint</span> application.</li>\n<li>At the bottom of the card, click <strong>Configure</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_defender_atp_configure.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_defender_atp_configure.png' alt=' '></a></p>\n</li>\n<li>In a separate browser window, log in to your Microsoft Azure portal and navigate to your <strong>Microsoft Entra ID</strong>.</li>\n<li>From the <strong>Overview</strong> page, scroll down to the <strong>Tenant information</strong> section. Then, copy the <strong>Primary domain</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_primarydomain.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_primarydomain.png' alt=' '></a></p>\n</li>\n<li>Navigate back to your KSAT console. In the <strong>Tenant</strong> field, paste your <strong>Primary domain</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_tenant.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_tenant.png' alt=' '></a></p>\n</li>\n<li>To get your client ID, navigate to your Microsoft Azure portal. Select <strong>App registrations</strong> and click on the registered application you added permissions to in the <a href='#h_01HER1YHYQYQ8JMYV8YMD1A9ZJ'>Add API Permissions</a> section of this article. When you click on the registered application, the application\u2019s overview page will display.</li>\n<li>On the application\u2019s overview page, copy the <strong>Application (client) ID</strong> in the <strong>Essentials</strong> section at the top of the page.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_applicationid.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_applicationid.png' alt=' '></a></p>\n</li>\n<li>Navigate back to your KSAT console. In the <strong>Client ID</strong> field, paste your <strong>Application (client) ID</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_clientid.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_clientid.png' alt=' '></a></p>\n</li>\n<li>In the <strong>Client Secret</strong> field, enter the <strong>Value</strong> for the <a href='#h_01HER1YHYQWHEXQCA8C8GV6SX9'>client secret</a> that you created for Microsoft Defender <span>for EndpointDefender for Endpoint</span>, Microsoft 365, or MCAS.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_clientsecret.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_clientsecret.png' alt=' '></a></p>\n</li>\n<li>In the <strong>Token Expiration Date</strong> field, select the <strong>Expires</strong> date for the <a href='#h_01HER1YHYQWHEXQCA8C8GV6SX9'>client secret</a> that you created for Microsoft Defender for Endpoint, Microsoft 365, or MCAS.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_tokenexpirationdate.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_tokenexpirationdate.png' alt=' '></a></p>\n</li>\n<li>To finish setting up the integration, click <strong>Authorize</strong>.</li>\n</ol>\n<h2 id='h_01HJ209WHXV3ZZSX1JV6T4DT93'>Map Your Users</h2>\n<p>After you\u2019ve finished integrating Microsoft Defender for Endpoint, you can map your users either through mapping rules (recommended) or through a CSV file upload. For more information about user mapping, see our <a href='https://support.knowbe4.com/hc/en-us/articles/7156417916307'>Mapping Users in SecurityCoach</a> article.</p>\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/MicrosoftDefenderForEndpointUserMapping.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/MicrosoftDefenderForEndpointUserMapping.png' alt=' '></a></p>\n<p>Once you\u2019ve successfully authorized this integration, you can manage detection rules for Microsoft Defender <span>for Endpoint</span> on the <strong>Detection Rules</strong> subtab of SecurityCoach. For a full list of available system detection rules for this vendor, see our <a href='https://support.knowbe4.com/hc/en-us/articles/11167145735955'>Which Detection Rules Can I Use with My Vendors?</a> article.</p>",
    "user_segment_ids": [],
    "source_url": "https://support.knowbe4.com/hc/en-us/articles/8876441103123-Microsoft-Defender-for-Endpoint-Integration-Guide-for-SecurityCoach"
  }
}</pre>
</body>
</html>
