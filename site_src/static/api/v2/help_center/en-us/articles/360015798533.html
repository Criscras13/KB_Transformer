
<!DOCTYPE html>
<html>
<head>
    <title>articles 360015798533</title>
    <meta name="robots" content="noindex">
</head>
<body>
    <pre>{
  "article": {
    "id": 360015798533,
    "url": "https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/360015798533.json",
    "html_url": "https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/360015798533.html",
    "author_id": 360322304667,
    "comments_disabled": true,
    "draft": false,
    "promoted": false,
    "position": 9,
    "vote_sum": 6,
    "vote_count": 12,
    "section_id": 26411014901779,
    "created_at": "2019-01-16T18:51:30Z",
    "updated_at": "2025-07-30T19:47:28Z",
    "name": "Edit Your CONF File for Active Directory Integration (ADI)",
    "title": "Edit Your CONF File for Active Directory Integration (ADI)",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2025-07-30T19:47:28Z",
    "user_segment_id": null,
    "permission_group_id": 195648,
    "content_tag_ids": [],
    "label_names": [
      "phishing",
      "PHISHING TEST",
      "new campaign screen",
      "data entry",
      "phishing for sensitive info",
      "edit account info",
      "initial test",
      "AR",
      "localized"
    ],
    "body": "<p>If you would like to manage users through Active Directory Integration (ADI), you will need to define which users and groups to sync to your KSAT console. To define which users and groups to sync, you can edit the ADI configuration (CONF) file that you download during the configuration process.</p>\n<p>In this article, you'll learn how to edit your CONF file to sync specific users, groups, and user information. For general information about ADI, see our <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/228373888.html'>Active Directory Integration (ADI) Configuration Guide</a>. If you would prefer to use SCIM, see our <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/360052380374.html'>SCIM Configuration Guide</a>. If you have purchased Student Edition, you can set the <strong>User Type KSAT</strong> field by using the <strong>user-role</strong> field in the .conf file.</p>\n<h2 id='h_01HQNP60G04HCFDKXQ8DFG2AED'>Defining Which Users to Sync</h2>\n<p>In this section, you\u2019ll learn how to edit your CONF file to define which users to sync to your KSAT console from your AD. These AD users will populate as users in your KSAT console. You will need to sync specific users before you can sync groups.</p>\n<p>To edit your CONF file to define which users you would like to sync, follow the steps below:</p>\n<ol>\n<li>\n<p>Open your ADI <strong>CONF</strong> file in a text editor. For more information about finding your CONF file, see our <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/228373888.html'>Active Directory Integration (ADI) Configuration Guide</a>.</p>\n</li>\n<li>Edit the following fields in the <code style='font-weight: var(--font-bold);'>[sync.users]</code> section of the file. For more information about these fields, see the table below.</li>\n</ol>\n<div class='callout-note'>\n<div class='callout__content'>\n<strong>Note:</strong>These fields are case-sensitive.</div>\n</div>\n<div class='callout-remember'>\n<div class='callout__content'>\n<strong>Important: </strong>If your organizational units (OUs) or group names contain characters that are not part of the standard English alphabet, replace the quotation marks (\") with single quotation marks ('). Escape special characters such as commas (,), number signs (#), and plus signs (+) by using a double backslash (\\\\). For more information, see our <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/360017646134.html'>How to Use Escape Characters with Active Directory Integration</a> article.</div>\n</div>\n<table style='table-layout: auto;'>\n<thead>\n<tr>\n<th scope='col'>Field Name</th>\n<th scope='col'>Field Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>includedOUs</code></th>\n<td>\n<p>In this field, enter the list of OUs that should be searched to sync your users.</p>\n<ul>\n<li>The specified OUs will be searched for any users that have mail-enabled turned on.\n<div class='callout-remember'>\n<div class='callout__content'>\n<strong>Important: </strong>This field will not include users within groups, within the specified OUs. To sync users within these groups, see the information for the <strong>includedGroups</strong> row below.</div>\n</div>\n</li>\n<li>If you would like to specify an OU that is beneath another OU, you must write the name of the OU location using reverse syntax and separate the file path with a forward slash. For example, if you would like to specify an OU called \u201cAccounting\u201d that is under an OU called \u201cAll Users\u201d, you would format the syntax as \"Accounting/All Users\".</li>\n<li>If you would like to include multiple OUs in your list of included OUs, you will need to format this text in a specific way. You will need to enclose the OUs in quotation marks, separate the OUs with commas, and enclose the OUs in brackets. For an example of the syntax for this field, see below:\n<ul>\n<li><code>includedOUs = [\"Accounting/All Users\",\"Development/All\n                  Users\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>excludedOUs</code></th>\n<td>\n<p>In this field, enter the list of OUs that will be searched for users that will be excluded.</p>\n<ul>\n<li>If excluded users are found during the search, they will override any corresponding OU users that were going to be included in the sync.</li>\n<li>For an example of the syntax of this field, see below:\n<ul>\n<li><code>excludedOUs = [\"Contractors/Development/All Users\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>includedGroups</code></th>\n<td>\n<p>In this field, enter the list of groups that users should be synced from. These groups must be either AD security groups or distribution groups.</p>\n<ul>\n<li>Users found the <strong>includedGroups</strong> field will override any corresponding users defined in the <strong>excludedOUs</strong> field.</li>\n<li>If you include multiple groups in this field, make sure that you format the syntax correctly. You will need to enclose the groups in quotation marks, separate the groups with commas, and enclose the groups in brackets. For an example of the syntax for multiple groups, see below:\n<ul>\n<li><code>includedGroups = [\"Accounting\",\"Human Resources\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>excludedGroups</code></th>\n<td>\n<p>In this field, enter the list of groups that will exclude users that are members of the specified AD security or distribution groups.</p>\n<ul>\n<li>If excluded users are found during this search, they will override corresponding users that are found in either <strong>includedOUs</strong> or <strong>includedGroups</strong>.</li>\n<li>For an example of the syntax for this field, see below:\n<ul>\n<li><code>excludedGroups = [\"Contract Employees\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>includedUsers</code></th>\n<td>\n<p>In this field, enter the list of users who should be explicitly included.</p>\n<ul>\n<li>Users specified in this field will override any corresponding users in the <strong>excludedGroups</strong> field or the <strong>excludedOUs</strong> field.</li>\n<li>Specify each user by entering their email address. You can specify as many users as you would like.</li>\n<li>For an example of the syntax for this field, see below:\n<ul>\n<li><code>includedUsers = [\"user@example.com\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>excludedUsers</code></th>\n<td>\n<p>In this field, enter the list of users who should be explicitly excluded.</p>\n<ul>\n<li>Users specified in this field will be excluded, regardless of any other inclusion rules.</li>\n<li>Specify each user by entering their email address. You can specify as many users as you would like. For an example of the syntax for this field, see below:\n<ul>\n<li><code>excludedUsers =\n                  [\"user@example.com\",\"user2@example.com\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p>If you would like to sync groups, see the <a href='#h_01HQNP60G0S0X5QMY2AQPZJJ4Y'>Defining Which Groups to Sync</a> section below.</p>\n<h2 id='h_01HQNP60G0S0X5QMY2AQPZJJ4Y'>Defining Which Groups to Sync</h2>\n<p>After you have defined the criteria for syncing specific users, you can also edit your CONF file to define the criteria for any AD groups that you want to sync. These AD groups will populate as groups in your KSAT console.</p>\n<p>If a user is a member of a group in AD, then they will be a member of the corresponding group in your KSAT console. KnowBe4 does not support groups within groups, or nested groups.</p>\n<p>It\u2019s important to note that you must sync users first before they can be included in synced groups. If you would like to sync a group but the group does not include any synced users, the group will not sync.</p>\n<div class='callout-remember'>\n<div class='callout__content'>\n<strong>Important: </strong>The only types of groups that will sync to your KSAT console are security groups and distribution groups. Groups within included OUs will be added or synced as groups in the console. However, the OU itself will not be synced with the console.</div>\n</div>\n<p>To edit your CONF file to define the groups that you would like to sync, follow the steps below:</p>\n<ol>\n<li>Make sure that you have synced specific users. For more information, see the <a href='#h_01HQNP60G04HCFDKXQ8DFG2AED'>Defining Which Users to Sync</a> section above.</li>\n<li>Edit the following fields in the <code style='font-weight: var(--font-bold);'>[sync.groups]</code> section of your <strong>CONF</strong> file. For more information about these fields, see the table below.</li>\n</ol>\n<div class='callout-note'>\n<div class='callout__content'>\n<strong>Note: </strong>These fields are case-sensitive.</div>\n</div>\n<table style='table-layout: auto;'>\n<thead>\n<tr>\n<th scope='col'>Field Name</th>\n<th scope='col'>Field Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>includedOUs</code></th>\n<td>\n<p>In this field, enter the list of OUs that you would like to search to sync your security or distribution groups.</p>\n<ul>\n<li>Only groups found under the specified OU will be added as groups in your KSAT console.</li>\n<li>If you are including multiple OUs, make sure that you format the syntax correctly. You will need to enclose the OUs in quotation marks, separate the OUs with commas, and enclose the OUs in brackets. For an example of the syntax for multiple OUs, see below:\n<ul>\n<li><code>includedOUs = [\"Accounting/All Users\",\"Development/All\n                  Users\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>excludedOUs</code></th>\n<td>\n<p>In this field, enter the list of OUs that you would like to search for security or distribution groups that will not be synced.</p>\n<ul>\n<li>For an exampled of the syntax for this field, see below:\n<ul>\n<li><code>excludedOUs = [\"Contractors/Development/All Users\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>includedGroups</code></th>\n<td>\n<p>In this field, enter the list of specific AD security or distribution groups that you would like to sync.</p>\n<ul>\n<li>When these groups sync, only users that you included in the users sync will be added to the corresponding KSAT group. This option overrides any excluded groups from the <strong>excludedOUs</strong> field in the <strong>[</strong><strong>sync.groups]</strong> section.</li>\n<li>For an example of the syntax for this field, see below:\n<ul>\n<li><code>includedGroups = [\"Sales\",\"Accounting\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n<tr>\n<th style='vertical-align: top;' scope='row'><code style='font-weight: var(--font-bold);'>excludedGroups</code></th>\n<td>\n<p>In this field, enter the list of specific groups that you would like to exclude from the sync.</p>\n<ul>\n<li>This option overrides any groups in the <strong>includedOUs</strong> field or the <strong>includedGroups</strong> field in the <code style='font-weight: var(--font-bold);'>[sync.groups]</code> section.</li>\n<li>For an example of the syntax for this field, see below:\n<ul>\n<li><code>excludedGroups = [\"Consultants\"]</code></li>\n</ul>\n</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p>Once you have edited these fields to your liking, save the CONF file. To save the file, you will need write permissions.</p>\n<h2 id='h_01HQNP60G14SW966W3QJHG37NJ'>Syncing Other User Information</h2>\n<p>Once you have selected the specific users and groups that you would like to sync, you can also edit your CONF file to define which user information syncs from your AD account to your KSAT account. To define which user information to sync, you can edit the <code style='font-weight: var(--font-bold);'>[sync.fields]</code> section of the file. By default, the fields in the <code style='font-weight: var(--font-bold);'>[sync.fields]</code> section will automatically populate the user information fields in your KSAT console with the information defined in your AD.</p>\n<p>To include the field in AD where your user information exists, you can edit the value in the quotation marks for each field. If a field is blank, there is no matching field in AD. You can define which AD fields you would like to sync to KSAT by manually adding a value in between the quotation marks for each field.</p>\n<p>If you would like to prevent specific fields from syncing, you can delete the value in the quotation marks for that field. However, make sure that you do not delete the quotation marks or the whole line of text. If you delete the whole line of text, AD will automatically add the line of text back to the field and sync the value.</p>\n<div class='callout-note'>\n<div class='callout_content'>\n<strong>Note: </strong> User phishing and training languages are synced from the <strong>AD preferredLanguage</strong>field by default. You can modify that AD field or remove these fields from being synced by following the <strong>Sync Use Cases</strong> section below.</div>\n</div>\n<div class='callout-tip'>\n<div class='callout__content'>\n<strong>Tip: </strong>You also have the option to limit the data that your AD syncs to your KSAT console. For more information, see the <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/228466847.html'>Syncing Information</a> section of our <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/228466847.html'>Active Directory Integration (ADI) FAQ</a> article.</div>\n</div>\n<p>For a list of the default fields available in the <code style='font-weight: var(--font-bold);'>[sync.fields]</code> section of your <strong>CONF</strong> file, see below:</p>\n<div class='callout-note'>\n<div class='callout__content'>\n<strong>Note:</strong>These fields are case-sensitive.</div>\n</div>\n<p><code style='font-weight: var(--font-bold);'>[sync.fields]</code></p>\n<div class='code-block'>\n<button class='copy-btn' data-target='text1'>Copy</button>\n<div id='text1'>\n<pre>comment = \"\"\ncustom-date-1 = \"\"\ncustom-date-2 = \"\"\ncustom-field-1 = \"\"\ncustom-field-2 = \"\"\ncustom-field-3 = \"\"\ncustom-field-4 = \"\"\ndepartment = \"department\"\ndivision = \"\"\nemployee-number = \"employeeNumber\"\nemployee-start-date = \"whenCreated\"\nfirst-name = \"givenName\"\nlast-name = \"\"\nlocation = \"physicalDeliveryOfficeName\"\nmanager = \"manager\"\nmobile-number = \"\"\norganization = \"o\"\nout-of-office-end = \"\"\nphishing-language = \"preferredLanguage\"\nphone-number = \"telephoneNumber\"\ntraining-language = \"preferredLanguage\"\ntitle = \"title\"\nuser-role = \"\"</pre>\n</div>\n</div>\n<div class='callout-note'>\n<div class='callout_content'>\n<strong>Note:</strong>The mapping for the \"manager\" attribute cannot be changed.</div>\n</div>\n<h3 id='h_01HQNP60G14E3G7NBD0GAT9FZH'>SecurityCoach Fields</h3>\n<p>If you enabled SecurityCoach fields when <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/228373888.html'>configuring ADI</a>, eight additional fields will display in the <code style='font-weight: var(--font-bold);'>[sync.fields]</code> section of your CONF file. These fields can be used to <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/7156417916307.html'>automatically map</a> KSAT users to SecurityCoach events. Additionally, you can use these fields when <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/7156417916307.html'>mapping users to identifiers</a> in SecurityCoach. When this information syncs, it will be added to the <strong>SecurityCoach Fields</strong> section of the <a href='https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/360009588974.html'>User Information</a> page.</p>\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/user_profile/User+Information_SecurityCoach+Fields.png'><img src='https://helpimg.s3.amazonaws.com/user_profile/User+Information_SecurityCoach+Fields.png' alt='SecurityCoach fields on the User Information page'></a></p>\n<p>For a list of these SecurityCoach fields and their default mappings, see below:</p>\n<div class='callout-note'>\n<div class='callout__content'>\n<strong>Note: </strong>These fields are case-sensitive.</div>\n</div>\n<div class='code-block'>\n<button class='copy-btn' data-target='text2'>Copy</button>\n<div id='text2'>\n<pre>company-name = \"company\"\ncountry = \"co\"\nemployee-type = \"employee type\"\nhostname = \"userWorkstations\"\nlast-password-change-date-time = \"pwdLastSet\"\nmail-nickname = \"mail\"\non-premises-sam-account-name = \"sAMAccountName\"\non-premises-security-identifier = \"objectSid\"\nuser-principal-name = \"userPrincipalName\"</pre>\n</div>\n</div>\n<h3 id='h_01HQNP60G19HNYC1E21QJYQ3V8'>Sync Use Cases</h3>\n<p>Below are example use cases for controlling which AD fields sync to your KSAT console.</p>\n<h4 id='h_01HQNP60G1GYXVQGWFYX9WWATS'>Use Case: Exclude Fields from Your AD Sync</h4>\n<p>If you would like to manage custom fields in your KSAT console, you can exclude those fields from your AD sync. This exclusion applies to only custom fields. If you try to leave fields blank other than the custom fields, their values will be cleared in KSAT.</p>\n<p>To exclude custom fields from your AD sync, include the following syntax in the <code style='font-weight: var(--font-bold);'>[sync.fields]</code> section of your <strong>CONF</strong> file. In the syntax below, all of the custom fields are blank or the values in the quotation marks have been removed:</p>\n<p><code style='font-weight: var(--font-bold);'>[sync.fields]</code></p>\n<div class='code-block'>\n<button class='copy-btn' data-target='text3'>Copy</button>\n<div id='text3'>\n<pre>comment = \"\"\ncustom-date-1 = \"\"\ncustom-date-2 = \"\"\ncustom-field-1 = \"\"\ncustom-field-2 = \"\"\ncustom-field-3 = \"\"\ncustom-field-4 = \"\"\ndepartment = \"department\"\ndivision = \"\"\nemployee-number = \"employeeNumber\"\nemployee-start-date = \"whenCreated\"\nfirst-name = \"givenName\"\nlast-name = \"\"\nlocation = \"physicalDeliveryOfficeName\"\nmanager = \"manager\"\nmobile-number = \"\"\norganization = \"o\"\nout-of-office-end = \"\"\nphishing-language = \"preferredLanguage\"\nphone-number = \"telephoneNumber\"\ntitle = \"title\"\ntraining-language = \"preferredLanguage\"\nuser-role = \"\"</pre>\n</div>\n</div>\n<h4 id='h_01HQNP60G1421QMJV2EK2P0975'>Use Case: Exclude Users' Divisions and Locations</h4>\n<p>If you would like to sync your users\u2019 departments but not their divisions or locations, include the following syntax in the <code style='font-weight: var(--font-bold);'>[sync.fields]</code> section of your <strong>CONF</strong> file. In the syntax below, the division and location fields are blank, or the values in the quotation marks have been removed:</p>\n<p><code style='font-weight: var(--font-bold);'>[sync.fields]</code></p>\n<div class='code-block'>\n<button class='copy-btn' data-target='text4'>Copy</button>\n<div id='text4'>\n<pre>comment = \"\"\ncustom-date-1 = \"\"\ncustom-date-2 = \"\"\ncustom-field-1 = \"\"\ncustom-field-2 = \"\"\ncustom-field-3 = \"\"\ncustom-field-4 = \"\"\ndepartment = \"department\"\ndivision = \"\"\nemployee-number = \"employeeNumber\"\nemployee-start-date = \"whenCreated\"\nfirst-name = \"givenName\"\nlast-name = \"\"\nlocation = \"\"\nmanager = \"manager\"\nmobile-number = \"\"\norganization = \"o\"\nout-of-office-end = \"\"\nphishing-language = \"preferredLanguage\"\nphone-number = \"telephoneNumber\"\ntitle = \"title\"\ntraining-language = \"preferredLanguage\"\nuser-role = \"\"</pre>\n</div>\n</div>\n<h4 id='h_01HQNP60G1SDHV81S7CE5ZAYMF'>Use Case: Include All Fields in Your AD Sync</h4>\n<p>If you would like to include all fields in your AD sync, include the following syntax in the <code style='font-weight: var(--font-bold);'>[sync.fields]</code> section of your <strong>CONF</strong> file. In the syntax below, all fields have a value in quotation marks:</p>\n<p><code style='font-weight: var(--font-bold);'>[sync.fields]</code></p>\n<div class='code-block'>\n<button class='copy-btn' data-target='text5'>Copy</button>\n<div id='text5'>\n<pre>comment = \u201cThis is a comment!\u201c\ncustom-date-1 = \u201cThis is my custom-date-1 field.\u201c\ncustom-date-2 = \"This is my custom-date-2 field.\"\ncustom-field-1 = \"This is my custom-field-1\u201d\ncustom-field-2 = \"This is my custom-field-2.\u201d\ncustom-field-3 = \"This is my custom-field-3\u201d\ncustom-field-4 = \"This is my custom-field-4\u201d\ndepartment = \"department\"\ndivision = \u201cdivision\u201d\nemployee-number = \"employeeNumber\"\nemployee-start-date = \"whenCreated\"\nfirst-name = \"givenName\"\nlast-name = \u201clast-name\u201d\nlocation = \"physicalDeliveryOfficeName\"\nmanager = \"manager\"\nmobile-number = \u201cmobile\u201c\norganization = \"o\"\nout-of-office-end = \"\"\nphishing-language = \"preferredLanguage\"\nphone-number = \"telephoneNumber\"\ntitle = \"title\"\ntraining-language = \"preferredLanguage\"\nuser-role = \"\"</pre>\n</div>\n</div>",
    "user_segment_ids": [],
    "source_url": "https://support.knowbe4.com/hc/en-us/articles/360015798533-Edit-Your-CONF-File-for-Active-Directory-Integration-ADI"
  }
}</pre>
</body>
</html>
