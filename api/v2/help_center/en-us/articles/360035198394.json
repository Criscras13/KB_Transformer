{
  "article": {
    "id": 360035198394,
    "url": "https://Criscras13.github.io/API_testing/api/v2/help_center/en-us/articles/360035198394.json",
    "html_url": "https://Criscras13.github.io/API_testing/api/v2/help_center/en-us/articles/360035198394.html",
    "author_id": 21027160967,
    "comments_disabled": true,
    "draft": false,
    "promoted": false,
    "position": 4,
    "vote_sum": 0,
    "vote_count": 0,
    "section_id": 4406704414099,
    "created_at": "2019-09-11T17:59:07Z",
    "updated_at": "2025-03-11T17:21:57Z",
    "name": "How Do I Configure SSO/SAML for KCM GRC with Active Directory Federation Services (AD FS)? ",
    "title": "How Do I Configure SSO/SAML for KCM GRC with Active Directory Federation Services (AD FS)? ",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2025-03-11T17:21:57Z",
    "user_segment_id": null,
    "permission_group_id": 195648,
    "content_tag_ids": [],
    "label_names": [
      "KCM General",
      "answerbot_kcmgrc"
    ],
    "body": "<p>This article provides instructions for setting up Active Directory Federation Services (AD FS) on Server 2012 R2 (AD FS 3.0) to connect with your KCM GRC platform via SAML. After you've completed this configuration, your users will be able to quickly and easily sign in to their accounts.\u00a0</p>\n<p><span>You must be an account administrator to set up SSO for your KCM GRC platform. As a safeguard, account administrators will retain the ability to log in to KCM GRC with their password.</span></p>\n<div class='callout-remember'>\n<div class='callout__content'>\n<strong>Important:</strong> After you configure SAML for your KCM GRC account, users must log in with your organization's internal authentication system. For new accounts, users will still be required to activate their account. To learn more about activating new accounts, see our <a href='https://Criscras13.github.io/API_testing/api/v2/help_center/en-us/articles/4404439936787.html' target='_self'>How to Activate and Access Your KCM GRC Account with SSO/SAML</a> article.</div>\n</div>\n<div class='callout-note'>\n<div class='callout__content'>\n<strong>Note:</strong> Because they are external <a href='https://Criscras13.github.io/API_testing/api/v2/help_center/en-us/articles/115015826148.html' target='_blank' rel='noopener'>user roles</a>, Auditor and Vendor users cannot log in to KCM GRC by using single sign-on. As an alternative option for authentication security, you can make multi-factor authentication mandatory for these accounts. For more information, see our <a href='https://Criscras13.github.io/API_testing/api/v2/help_center/en-us/articles/360000173767.html' target='_blank' rel='noopener'>How to Enable and Configure Multi-Factor Authentication</a> article.</div>\n</div>\n<p>Follow the sections in this article to configure your SAML connection.</p>\n\n<h2 id='h_01HVVWPXY5Z01WYQQGA2FX2DMD'>Add SAML Metadata to KCM GRC</h2>\n<p>First, gather your SAML metadata from your AD FS management console and add it to your KCM GRC account.</p>\n<ol role='list'>\n<li>From your AD FS management console, expand the <strong>Service</strong> folder. Then, select the <strong>Endpoints</strong> folder, as shown below.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_FederationMetadataURLPath.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_FederationMetadataURLPath.png' alt=' '></a>\n</li>\n<li>Under the <strong>URL Path</strong> column, copy the <strong>Federation Metadata</strong> URL. This URL path makes up only a portion of the full metadata XML file path that you will add to your KCM account's <strong>Account Settings</strong> area. The full path to the metadata XML will look similar to this:<code>https://ADFSserver.example_domain.com/FederationMetadata/2007-06/FederationMetadata.xml</code> where <code>ADFSserver.example_domain.com</code> is the fully qualified domain name (FQDN) of your AD FS server and <code>/FederationMetadata/2007-06/FederationMetadata.xml</code> is the URL path that you copied from the <strong>Endpoints</strong> folder in your AD FS management console.</li>\n<li>In your KCM GRC account, click <strong>Settings</strong>\u00a0&gt; <strong>Account Settings</strong>. Then, click the <strong>SSO Settings</strong> tab.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_SettingsAccountSettings.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_SettingsAccountSettings.png' alt=' '></a>\n</li>\n<li>Under the <strong>SSO Provider Config</strong> area, paste the full XML file path\u00a0into the <strong>Remote Metadata XML</strong> field and click the <strong>Import</strong> button, as shown below.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_SSORemoteMetadataXML-SSOEnabled-SSOProvider.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_SSORemoteMetadataXML-SSOEnabled-SSOProvider.png' alt=' '></a>\n</li>\n<li>Click the <strong>SSO Enabled</strong>\u00a0toggle.</li>\n<li>From the <strong>SSO Provider</strong>\u00a0drop-down menu, select <strong>Active Directory Federation Services (ADFS)</strong>.</li>\n<li>Scroll to the bottom of the page and click <strong>Save</strong>.</li>\n</ol>\n<p>Next, you'll need to add KCM GRC to your AD FS management console. See the following sections for details.</p>\n\n<h2 id='h_01HVVWPXY5EE57N2CWWMNNA62Z'>Configure Relying Party Trust in AD FS</h2>\n<p>Now, you can add KCM GRC to your AD FS management console. Follow the steps below.</p>\n<div class='callout-tip'>\n<div class='callout__content'>\n<strong>Tip:</strong> Remain logged in to your KCM GRC account. You will need information from the <strong>SSO Settings</strong> tab under <strong>Account Settings</strong> (<strong>Settings</strong> &gt; <strong>Account Settings</strong> &gt; <strong>SSO Settings</strong>) to complete the following steps.</div>\n</div>\n<ol role='list' start='8'>\n<li>In your AD FS management console, expand the <strong>Trust Relationships</strong> folder. Then, right-click <strong>Relying Party Trust</strong> and select <strong>Add Relying Party Trust...</strong>, as shown below.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_AddRelyingPartyTrust.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_AddRelyingPartyTrust.png' alt=' '></a>\n</li>\n<li>On the <strong>Welcome</strong> screen of the <strong>Add Relying Party Trust Wizard</strong>, click <strong>Start</strong>.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_AddRelyingPartyTrustWizardStartButton.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_AddRelyingPartyTrustWizardStartButton.png' alt=' '></a>\n</li>\n<li>On the <strong>Select Data Source</strong> screen, select <strong>Import data about the relying party published online or on a local network</strong>.\n<ol role='list' type='a'>\n<li>For this step, you'll need to copy the <strong>Entity ID</strong> URL from your KCM GRC <strong>SSO Settings</strong> tab under the\u00a0<strong>Account Settings</strong> area.\n<ul role='list'>\n<li>Then, in your AD FS management console, paste the <strong>Entity ID</strong> URL into the <strong>Federation metadata address (host name or URL)</strong> field.</li>\n</ul>\n</li>\n<li>Click <strong>Next</strong>.</li>\n</ol>\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS__Federationmetadataaddress-updated.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS__Federationmetadataaddress-updated.png' alt=' '></a>\n</li>\n<li>On the <strong>Specify Display Name</strong> screen, in the <strong>Display Name</strong> field, enter a display name such as \"KCM GRC Platform\". Then, click <strong>Next</strong>.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_DisplayName.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_DisplayName.png' alt=' '></a>\n</li>\n<li>On the <strong>Choose Issuance Authorization Rules</strong> screen, select <strong>Permit all users to access this relying party</strong>. Then, click <strong>Next</strong>.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_chooseIssuanceAuthorizationRules.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_chooseIssuanceAuthorizationRules.png' alt=' '></a>\n</li>\n<li>On the <strong>Ready to Add Trust</strong> screen, click <strong>Next</strong>.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_ReadytoAddTrust.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_ReadytoAddTrust.png' alt=' '></a>\n</li>\n<li>On the <strong>Finish</strong> screen, make sure the <strong>Open the Edit Claim Rules...</strong>\u00a0checkbox is selected and click <strong>Close</strong>.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_Finish.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_Finish.png' alt=' '></a>\n</li>\n</ol>\n<p>Now, see the next section to learn how to add two transform claim rules to your AD FS management console.</p>\n<h2 id='h_01HVVWPXY5XRQ4RC729CAWG8DB'>Add Transform Claim Rules to AD FS</h2>\n<p>Follow the steps below to add two transform claim rules to your AD FS management console.</p>\n<ol role='list' start='15'>\n<li>On the <strong>Edit Claim Rules for [Display Name]</strong> screen, click the <strong>Add Rule...</strong> button.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_EditClaimRules_AddRulebutton.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_EditClaimRules_AddRulebutton.png' alt=' '></a>\n</li>\n<li>On the <strong>Select Rule Template</strong> screen, from the <strong>Claim rule template</strong> drop-down menu, select <strong>Send LDAP Attributes as Claims</strong>. Then, click <strong>Next</strong>.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_SelectRuleTemplate_sendLDAPAttributes.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_SelectRuleTemplate_sendLDAPAttributes.png' alt=' '></a>\n</li>\n<li>On the <strong>Configure Rule</strong> screen, in the <strong>Claim rule name</strong> field, add a name such as \"Email\". Then, make the selections that are outlined below.\n<ol role='list' type='a'>\n<li>From the <strong>Attribute store</strong> drop-down menu, select <strong>Active Directory</strong>.</li>\n<li>From the <strong>Mapping of LDAP attributes to outgoing claim types</strong> area, select <strong>E-Mail-Addresses</strong> from the <strong>LDAP Attribute</strong> drop-down menu.</li>\n<li>From the <strong>Mapping of LDAP attributes to outgoing claim types</strong> area, select <strong>E-Mail Addresses</strong> from the <strong>Outgoing Claim Type</strong> drop-down menu.</li>\n<li>Click the <strong>Finish</strong> button.</li>\n</ol>\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_ConfigureRulescreen-updated.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_ConfigureRulescreen-updated.png' alt=' '></a>\n</li>\n<li>When you're back on the <strong>Edit Claim Rules for [Display Name]</strong>\u00a0window, click the <strong>Add Rule...</strong> button to create your second rule.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_EditClaimRulesWindow-withonerule.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_EditClaimRulesWindow-withonerule.png' alt=' '></a>\n</li>\n<li>On the <strong>Select Rule Template</strong> screen, from the <strong>Claim rule template </strong>drop-down menu, select <strong>Transform an Incoming Claim</strong>. Then, click <strong>Next</strong>.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_SelectRuleTemplate_TransformClaimRule.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_SelectRuleTemplate_TransformClaimRule.png' alt=' '></a>\n</li>\n<li>On the <strong>Configure Rule</strong> screen, in the <strong>Claim rule name</strong> field, add a name such as \"Transform\". Then, make the selections that are outlined below.\n<ol role='list' type='a'>\n<li>From the <strong>Incoming claim type</strong> drop-down menu, select <strong>E-Mail Address</strong>.</li>\n<li>From the <strong>Outgoing claim type</strong> drop-down menu, select <strong>Name ID</strong>.</li>\n<li>From the <strong>Outgoing name ID format</strong> drop-down menu, select <strong>Email</strong>.</li>\n<li>Select <strong>Pass through all claim values</strong>.</li>\n<li>Click the <strong>Finish</strong> button.</li>\n</ol>\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_createTransformRule-updated.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_createTransformRule-updated.png' alt=' '></a>\n</li>\n<li>Click <strong>OK</strong> to exit the <strong>Edit Claim Rules for [Display Name]</strong>\u00a0window.\n<a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_EditClaimRulesWindow.png'><img src='https://helpimg.s3.amazonaws.com/KCM/KCM_SAML/KCM_ADFS/ADFS_EditClaimRulesWindow.png' alt=' '></a>\n</li>\n</ol>\n<p>Now that you've completed your SAML configuration, you'll want to test it to ensure it's working properly. See the <a href='https://Criscras13.github.io/API_testing/api/v2/help_center/en-us/articles/360026691073.html' target='_blank' rel='noopener'>Test SSO Integration</a> of our <a href='https://Criscras13.github.io/API_testing/api/v2/help_center/en-us/articles/360026691073.html' target='_blank' rel='noopener'>How to Set up SAML/SSO for KCM GRC</a> article for more information.</p>",
    "user_segment_ids": []
  }
}