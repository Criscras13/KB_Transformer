{
  "article": {
    "id": 208406128,
    "url": "https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/208406128.json",
    "html_url": "https://Criscras13.github.io/KB_Transformer/api/v2/help_center/en-us/articles/208406128.html",
    "author_id": 1450288687,
    "comments_disabled": true,
    "draft": false,
    "promoted": false,
    "position": 3,
    "vote_sum": 8,
    "vote_count": 8,
    "section_id": 360000156768,
    "created_at": "2015-09-03T17:50:08Z",
    "updated_at": "2025-11-07T21:43:41Z",
    "name": "Enable SAML Single Sign-on (SSO) For Active Directory Federation Services (AD FS)",
    "title": "Enable SAML Single Sign-on (SSO) For Active Directory Federation Services (AD FS)",
    "source_locale": "en-us",
    "locale": "en-us",
    "outdated": false,
    "outdated_locales": [],
    "edited_at": "2025-11-07T21:43:41Z",
    "user_segment_id": null,
    "permission_group_id": 195648,
    "content_tag_ids": [],
    "label_names": [
      "sha1",
      "ad fs",
      "thumbprint",
      "thumb print",
      "adfs",
      "active directory federation service",
      "Login",
      "answerbot",
      "answerbot_kmsat",
      "answerbot_ksat"
    ],
    "body": "<p>This article will instruct you on how to set up and enable SAML on your account so that your users can quickly and easily log in to take their KnowBe4 training using AD FS. For more information on AD FS, see Microsoft's <a href='https://docs.microsoft.com/en-us/windows-server/identity/ad-fs/operations/create-a-relying-party-trust' target='_blank' rel='noopener noreferrer'>Create a Relying Party Trust</a> article and read each of the below three sections.</p>\n<div class='callout-note'>\n<div>\n<strong>Note: </strong>Make sure the email address that your users use to authenticate with SAML is either entered into the <strong>Email</strong> field or <strong>Email Aliases</strong> field of their user profile. However, only the email address listed in the <strong>Email</strong> field will receive training notification emails. For more information about adding information to user profiles, visit our <a href='https://support.knowbe4.com/hc/en-us/articles/360009588974-User-Profile-Guide'>User Profile Guide</a>.</div>\n</div>\n<h2 id='h_01HB9KP9KTXYMVFJ9NSAV40GAX'>How to Set Up SAML</h2>\n<p>To set up SAML, follow the steps below:</p>\n<ol>\n<li>Access your AD FS management console.</li>\n<li>Expand the <strong>Trust Relationships</strong> folder.</li>\n<li>Right-click <strong>Relying Party Trust</strong> and click <strong>Add Relying Party Trust\u2026</strong>. When you click, the <strong>Add Relying Party Trust</strong> window will open.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/01.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/01.png' alt=' '></a></p>\n</li>\n<li>Click <strong>Start </strong>on the wizard\u2019s <strong>Welcome</strong> screen.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/02.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/02.png' alt=' '></a></p>\n</li>\n<li>Choose <strong>Enter data about the relying party manually</strong>. Click <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/03.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/03.png' alt=' '></a></p>\n</li>\n<li>Enter a display name, such as <strong>KnowBe4</strong>. Select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/04.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/04.png' alt=' '></a></p>\n</li>\n<li>Leave <strong>AD FS profile</strong> selected and select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/05.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/05.png' alt=' '></a></p>\n</li>\n<li>On the <strong>Configure Certificate</strong> screen, select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/06.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/06.png' alt=' '></a></p>\n</li>\n<li>On the <strong>Configure URL </strong>screen, select the <strong>Enable support for the SAML 2.0 WebSSO protocol</strong> option. Stay on the Configure URL screen and move on to the next step.</li>\n<li>For this step, you'll need to obtain your <strong>unique Callback URL</strong> from your KSAT Account Settings:</li>\n<ol type='a'>\n<li>Log in to your KSAT account.</li>\n<li>After logging in, select your email address at the top-right corner of the page.</li>\n<li>Select <strong>Account Settings</strong>.</li>\n<li>Navigate to <strong>Account Integrations</strong> &gt; <strong>SAML</strong>.</li>\n<li>Copy your account-specific callback URL. For example, https://training.knowbe4.com/auth/saml/<span class='wysiwyg-color-red'>xxxxxxxxxxx</span>/callback.</li>\n<li>Navigate back to the <strong>Configure URL</strong> screen of the setup wizard.</li>\n<li>Paste the link you obtained into the <strong>Relying party SAML 2.0 SSO service URL field</strong> on the <strong>Configure URL</strong> page and select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/07.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/07.png' alt=' '></a></p>\n</li>\n</ol>\n<li>On the <strong>Configure Identifiers</strong> screen, enter \"KnowBe4\" into the <strong>Relying party trust identifier</strong> field. Select <strong>Add</strong>, then select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/08.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/08.png' alt=' '></a></p>\n</li>\n<li>Leave the <strong>I do not want to configure multi-factor authentication settings for this relying party trust at this time</strong> option selected, then select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/09.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/09.png' alt=' '></a></p>\n</li>\n<li>Leave the <strong>Permit all users to access this relying party</strong> option selected, then select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/10.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/10.png' alt=' '></a></p>\n</li>\n<li>On the <strong>Ready to Add Trust</strong> screen, select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/11.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/11.png' alt=' '></a></p>\n</li>\n<li>Leave the <strong>Open the Edit Claim Rules dialog for this relying party trust when the wizard closes</strong> check box selected and select <strong>Close</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/12.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/12.png' alt=' '></a></p>\n</li>\n<li>In the <strong>Edit claim rules</strong> window, select <strong>Add Rule</strong>\u2026.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/13.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/13.png' alt=' '></a></p>\n</li>\n<li>On the<strong> Choose Rule Type</strong> screen, leave <strong>Send LDAP Attributes as Claims</strong> selected as the template and select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/14.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/14.png' alt=' '></a></p>\n</li>\n<li>Enter a name, then under <strong>Attribute Store</strong> choose <strong>Active Directory</strong>. Under the <strong>Mapping of LDAP attributes to outgoing claim types</strong> area, select <strong>Email Addresses</strong> for the LDAP Attribute and then choose <strong>E-mail Address</strong> for Outgoing Claim Type. Click <strong>Finish</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/15.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/15.png' alt=' '></a></p>\n</li>\n<li>Click <strong>Add Rule...</strong> back on the <strong>Edit Claims</strong> window again.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/16.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/16.png' alt=' '></a></p>\n</li>\n<li>Under <strong>Claim rule template</strong>, select <strong>Transform an Incoming Claim</strong> and select <strong>Next</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/17.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/17.png' alt=' '></a></p>\n</li>\n<li>Enter a name and then change the following settings:</li>\n<ul>\n<li>\n<strong>Incoming claim type</strong>: Select <strong>E-Mail Address</strong>.</li>\n<li>\n<strong>Outgoing claim type</strong>: Select<strong> Name ID</strong>.</li>\n<li>\n<strong>Outgoing name ID format</strong>: Select <strong>Email</strong>.</li>\n<li>\n<strong>Pass through all claim values</strong>: Select this option.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/18.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/18.png' alt=' '></a></p>\n</li>\n</ul>\n<li>Select <strong>Finish</strong> on the <strong>Configure Claim Rule</strong> page, and then select <strong>OK</strong> on the <strong>Edit Claims</strong> window to exit.</li>\n<li>Right-click the relying party trust and select <strong>Properties</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/19.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/19.png' alt=' '></a></p>\n</li>\n<li>Click the <strong>Advanced</strong> tab and select <strong>SHA-256</strong> from the <strong>Secure hash algorithm</strong> drop-down menu.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/20.png'><img src='https://helpimg.s3.amazonaws.com/FAQ/SAML_ADFS_2012/20.png' alt=' '></a></p>\n</li>\n<li>Select <strong>OK</strong> to exit.</li>\n</ol>\n<h2 id='h_01HB9KP9KTFT8D30B9HGSHF524'>How to Find the SHA1 Thumbprint</h2>\n<p>To find the SHA1 thumbprint, follow the steps below:</p>\n<ol>\n<li>Open <strong>AD FS Management</strong>.</li>\n<li>Select the <strong>Certificates</strong> folder under <strong>Service</strong>.</li>\n<li>Select the <strong>Token-signing</strong> certificate.\n<p><a data-fancybox='single' data-src='https://support.knowbe4.com/hc/article_attachments/115019689628'><img src='https://support.knowbe4.com/hc/article_attachments/115019689628' alt=' '></a></p>\n</li>\n<li>Select the <strong>Details</strong> tab.</li>\n<li>Select the <strong>Thumbprint</strong> option.\n<p><a data-fancybox='single' data-src='http://helpimg.s3.amazonaws.com/FAQ/sha1-2.png'><img src='http://helpimg.s3.amazonaws.com/FAQ/sha1-2.png' alt=' '></a></p>\n</li>\n<li>Copy your unique thumbprint.</li>\n</ol>\n<h2 id='h_01HB9KP9KT4C0MP0W1K3WKKBP7'>How to Enable SAML</h2>\n<p>The final step is to enable SAML on your account. To learn how to enable SAML on your account, please visit our <a href='https://support.knowbe4.com/hc/en-us/articles/360041935913-How-to-Set-Up-SAML-SSO-for-the-Security-Awareness-Training-Platform'>Set Up SAML Single Sign-on (SSO) for the Security Awareness Training Console</a> article. For more information on the AD FS LoginToRp parameter that is part of your target or SSO URL, please see Microsoft's <a href='https://blogs.technet.microsoft.com/askds/2012/09/27/ad-fs-2-0-relaystate/' target='_blank' rel='noopener noreferrer'>AD FS 2.0 RelayState</a> article.</p>\n<div class='callout-note'>\n<div>\n<strong>Note:</strong> When adding your identify provider (IdP) SSO target URL to the SAML settings in your KSAT console, it should follow this format: https://samportal.example_domain.com/adfs/ls/idpinitiatedsignon.aspx?logintoRP=KnowBe4. Your ADFS server should follow this format: samportal.example_domain.com = FQDN.</div>\n</div>",
    "user_segment_ids": [],
    "source_url": "https://support.knowbe4.com/hc/en-us/articles/208406128-Enable-SAML-Single-Sign-on-SSO-For-Active-Directory-Federation-Services-AD-FS"
  }
}