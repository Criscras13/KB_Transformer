<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Article 9743544197395</title>
</head>
<body>
    <pre>{
  "id": 9743544197395,
  "url": "https://Criscras13.github.io/KB_Transformer/site_src/static/api/v2/help_center/en-us/experimental/articles/9743544197395.json",
  "html_url": "https://Criscras13.github.io/KB_Transformer/site_src/static/api/v2/help_center/en-us/experimental/articles/9743544197395.html",
  "author_id": 1915070258405,
  "comments_disabled": true,
  "draft": false,
  "promoted": false,
  "position": 17,
  "vote_sum": 2,
  "vote_count": 4,
  "section_id": 45304403431955,
  "created_at": "2022-09-21T15:06:43Z",
  "updated_at": "2025-10-03T19:28:53Z",
  "name": "Microsoft Entra ID Protection Integration Guide for SecurityCoach",
  "title": "Microsoft Entra ID Protection Integration Guide for SecurityCoach",
  "source_locale": "en-us",
  "locale": "en-us",
  "outdated": false,
  "outdated_locales": [],
  "edited_at": "2025-09-05T17:00:28Z",
  "user_segment_id": null,
  "permission_group_id": 195648,
  "content_tag_ids": [],
  "label_names": [
    "answerbot",
    "securitycoach",
    "security coach",
    "securitycoach integrations",
    "Security Coach",
    "answerbot_securitycoach"
  ],
  "body": "<p>In this article, you will learn how to integrate Microsoft Entra ID Protection with SecurityCoach. Once you set up this integration, data provided by Microsoft Entra ID Protection will be available under the <strong>SecurityCoach</strong> tab of your KSAT console. This data can be viewed in SecurityCoach reports and used to create detection rules for real-time coaching campaigns.</p>\n<div style='padding: 56.25% 0 0 0; position: relative;'><iframe style='position: absolute; top: 0; left: 0; width: 100%; height: 100%;' src='https://player.vimeo.com/video/812526658' frameborder='0' allow='autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media'></iframe></div>\n<p>\n<script src='https://player.vimeo.com/api/player.js'></script>\n</p>\n<p>For general information about SecurityCoach, see our <a href='https://support.knowbe4.com/hc/en-us/articles/6654432814355'>SecurityCoach Product Manual</a>. If you would like to learn how to integrate other Microsoft products with SecurityCoach, see the <a href='https://support.knowbe4.com/hc/en-us/sections/10969917980435-Vendor-Integration-Guides'>vendor integration guides</a> in our Knowledge Base.</p>\n<div class='callout-tip'>\n<div>\n<strong>Tip:</strong>SecurityCoach also supports integrating Microsoft Entra ID Protection as a Splunk vendor. If your organization uses Splunk for security information and event management, we recommend integrating through Splunk instead by following our <a href='https://support.knowbe4.com/hc/en-us/articles/36888064642451/'>Splunk Integrations Guide for SecurityCoach</a>.</div>\n</div>\n<h2 id='h_01K45ZGG0RQMYGVZ7MB67NRE56'>Prerequisites</h2>\n<p>The following Microsoft license is required to ensure a successful Microsoft Entra ID Protection integration:</p>\n<ul>\n<li><strong>Microsoft Entra ID P2</strong></li>\n</ul>\n<p>For more information, see Microsoft\u2019s <a href='https://www.microsoft.com/en-us/security/business/microsoft-entra-pricing' target='_blank' rel='noopener'>Entra Plans and Pricing</a>.</p>\n<div class='callout-note'>\n<div>\n<strong>Note:</strong>Microsoft Government Community Cloud (GCC) integrations are not supported at this time.</div>\n</div>\n<h2 id='h_01HEQNX0CZKTPBN45WVHD76P8E'>Set Up the Integration in Your Microsoft Azure Portal</h2>\n<p>Before you can set up this integration in your KSAT console, you will need to register the SecurityCoach application, add API permissions, and create a client secret in your Microsoft Azure portal.</p>\n<div class='callout-remember'>\n<div>\n<strong>Important:</strong>The registered application, API permission, and client secret must be unique to this integration. You cannot reuse a registered application, API permission, or client secret used to integrate another Microsoft product with SecurityCoach.</div>\n</div>\n<p>To jump to the article subsection for each of these steps, click the links below:</p>\n<ul>\n<li><a href='#h_01HEQNX0CZARYR8DYSMGX14PDY'>Register the Application</a></li>\n<li><a href='#h_01HEQNX0CZE6BMXFPEPQZ4W3TV'>Add API Permissions</a></li>\n<li><a href='#h_01HEQNX0CZVK8QY2M51Y086PZA'>Create a Client Secret</a></li>\n</ul>\n<h3 id='h_01HEQNX0CZARYR8DYSMGX14PDY'>Register the SecurityCoach Application</h3>\n<p>First, you will need to register the SecurityCoach application in your Microsoft Azure portal. To register the application, follow the steps below:</p>\n<ol>\n<li>Log in to your Microsoft Azure portal and navigate to the <strong>Microsoft Entra ID</strong>.</li>\n<li>From the sidebar on the left side of the page, select <strong>App registrations</strong>.</li>\n<li>Click <strong>+ New registration</strong> and enter a name for your application, such as \u201cknowbe4integrations\u201d.</li>\n<li>Click <strong>Register</strong>.</li>\n</ol>\n<h3 id='h_01HEQNX0CZE6BMXFPEPQZ4W3TV'>Add API Permissions</h3>\n<p>After you have registered the SecurityCoach application, you can add API permissions from the <strong>App registrations</strong> page of your Microsoft Azure portal. To add API permissions, follow the steps below:</p>\n<ol>\n<li>Select the registered application you created in the <a href='#REGISTER'>Register the SecurityCoach Application</a> section of this guide. In the example below, the registered application is titled \u201cknowbe4integrations\u201d.</li>\n<li>From the sidebar on the left side of the page, select <strong>API permissions</strong>.</li>\n<li>Click <strong>+ Add a permission</strong>.</li>\n<li>Select <strong>Microsoft Graph</strong> from the <strong>Microsoft APIs</strong> subtab.</li>\n<li>Click <strong>Application permissions</strong>.</li>\n<li>Click the <strong>IdentityRiskEvent</strong> drop-down menu and select the check box next to <strong>IdentityRiskEvent.Read.All</strong>. Then, click the <strong>IdentityRiskyUser</strong> drop-down menu and select the check box next to <strong>IdentityRiskyUser.Read.All</strong>.</li>\n<li>Click <strong>Add permissions</strong>.</li>\n<li>Click <strong>Grant admin consent for [your active directory name]</strong>. Once permission is granted, the triangle symbol on the right side of the page will change to a green check mark.</li>\n</ol>\n<h3 id='h_01HEQNX0CZVK8QY2M51Y086PZA'>Create a Client Secret</h3>\n<p>After you have registered the SecurityCoach application and added your API permissions, you can create a client secret from the <strong>App registrations</strong> page of your Microsoft Azure portal. To create a client secret, follow the steps below:</p>\n<ol>\n<li>From the sidebar on the left side of the page, select the SecurityCoach application that you registered earlier. When you click on the registered application, the application\u2019s overview will display.</li>\n<li>From the sidebar on the left side of the page, select <strong>Certificates &amp; secrets</strong>.</li>\n<li>Click <strong>+ New client secret</strong>.</li>\n<li>Enter a description for the client secret and select an expiry window.</li>\n<li>Click <strong>Add</strong>. Once you click <strong>Add</strong>, the client secret <strong>Value</strong> and <strong>Expires</strong> date will display on the page.</li>\n<li>Copy and save the client secret <strong>Value</strong> and <strong>Expires</strong> date somewhere that you can easily access. You will need these credentials to complete the integration setup outlined in the <a href='#h_01HEQNX0CZ2K5JW3A27693XDXE'>Set Up the Integration in Your KSAT Console</a> section below.</li>\n</ol>\n<h2 id='h_01HEQNX0CZ2K5JW3A27693XDXE'>Set Up the Integration in Your KSAT Console</h2>\n<p>Once you\u2019ve set up the integration in your Microsoft Azure portal, you can set up the integration in your KSAT console.</p>\n<div class='callout-note'>\n<div>\n<strong>Note:</strong>To complete these steps, you will need to have both your Microsoft Azure portal and your KSAT console open in your browser.</div>\n</div>\n<p>To set up the integration in your KSAT console, follow the steps below:</p>\n<ol>\n<li>Log in to your KSAT console and navigate to <strong>SecurityCoach</strong> &gt; <strong>Setup</strong> &gt; <strong>Security Vendor Integrations</strong>.</li>\n<li>Locate <strong>Microsoft Entra ID\u00a0Protection</strong> and click <strong>Configure</strong>.</li>\n<li>In a separate browser window, log in to your Microsoft Azure portal and navigate to your <strong>Microsoft Entra ID</strong>.</li>\n<li>From the <strong>Overview</strong> page, scroll down to the <strong>Tenant information</strong> section. Then, copy the <strong>Primary domain</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_primary_domain.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_primary_domain.png' alt=' '></a></p>\n</li>\n<li>In your KSAT console, paste your <strong>Primary domain</strong> in the <strong>Domain</strong> field.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_domain.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_domain.png' alt=' '></a></p>\n</li>\n<li>To get your client ID, navigate to the <strong>App registrations</strong> page of your Microsoft Azure portal and click on the SecurityCoach application that you registered earlier. When you click on the registered application, the application\u2019s overview page will display.</li>\n<li>On the application\u2019s overview page, copy the <strong>Application (client) ID</strong> in the <strong>Essentials</strong> section at the top of the page.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_applicationid.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_applicationid.png' alt=' '></a></p>\n</li>\n<li>Navigate back to your KSAT console. In the <strong>Client ID</strong> field, paste your <strong>Application (client) ID</strong>.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_clientid.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_clientid.png' alt=' '></a></p>\n</li>\n<li>In the <strong>Client Secret</strong> field, enter the <strong>Value</strong> for the client secret that you created earlier.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_clientsecret.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_clientsecret.png' alt=' '></a></p>\n</li>\n<li>In the <strong>Token Expiration Date</strong> field, select the <strong>Expires</strong> date for the client secret that you created earlier.\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_tokenexpirationdate.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_tokenexpirationdate.png' alt=' '></a></p>\n</li>\n<li>To finish setting up the integration, click <strong>Authorize</strong>.</li>\n</ol>\n<h2 id='h_01HJ20HXPS25FXF7PNMSF3VPWB'>Map Your Users</h2>\n<p>After you\u2019ve finished integrating Microsoft Entra ID Protection, you can map your users either through mapping rules (recommended) or through a CSV file upload. For more information about user mapping, see our <a href='https://support.knowbe4.com/hc/en-us/articles/7156417916307'>Mapping Users in SecurityCoach</a> article.</p>\n<p><a data-fancybox='single' data-src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/MicrosoftEntraIDProtectionUserMapping.png'><img src='https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/MicrosoftEntraIDProtectionUserMapping.png' alt=' '></a></p>\n<p>Once you\u2019ve successfully authorized this integration, you can manage detection rules for Microsoft Entra ID Protection on the <strong>Detection Rules</strong> subtab of SecurityCoach. For a full list of available system detection rules for this vendor, see our <a href='https://support.knowbe4.com/hc/en-us/articles/11167145735955'>Which Detection Rules Can I Use with My Vendors?</a> article.</p>",
  "user_segment_ids": [],
  "source_url": "https://support.knowbe4.com/hc/en-us/articles/9743544197395-Microsoft-Entra-ID-Protection-Integration-Guide-for-SecurityCoach",
  "images": [
    {
      "url": "https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_primary_domain.png",
      "alt": "This image displays the Microsoft Azure portal interface, specifically the **Azure Active Directory Overview** blade for the tenant named **secadvbot**.\n\n**UI Context and Navigation:**\n\n*   The breadcrumb navigation indicates the location: `Home > secadvbot | Overview`.\n*   The left navigation pane has the **Overview** link highlighted and boxed in orange, confirming the current view.\n*   The navigation panel lists configuration sections under **Manage**, including Users, Groups, Roles and administrators, Devices, and App registrations.\n*   Above the content area are resource management actions: Switch tenant, Delete tenant, Create a tenant, What's new, and Preview features.\n\n**Content Details:**\n\n*   The central area features information organized into summary tiles.\n*   **Tenant information** tile details include:\n    *   Your role: Global administrator\n    *   License: Azure AD Premium P2\n    *   Tenant ID: (Obscured)\n    *   **Primary domain**: (Obscured, highlighted by a second orange box).\n*   **Azure AD Connect** tile shows:\n    *   Status: Not enabled\n    *   Last sync: Sync has never run.",
      "position": 1,
      "context": "Then, copy the Primary domain."
    },
    {
      "url": "https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_domain.png",
      "alt": "This image displays a configuration screen for the **Microsoft Azure AD Identity Protection** vendor integration.\n\n**Context and Navigation:**\n*   The page title is \"Microsoft Azure AD Identity Protection.\"\n*   A navigation link is present in the top right: \"\u2190 Back to Integrations.\"\n\n**Guidance Panel:**\n*   A light blue informational banner contains the text: \"For more information about configuring this vendor integration, click **Configuration Help**.\"\n*   A corresponding \"Configuration Help\" button is located on the right side of the banner.\n\n**Configuration Fields (Two Columns):**\nThe interface features four required input fields:\n1.  **Client ID** (Text field, empty).\n2.  **Client Secret** (Text field, empty).\n3.  **Domain** (Text field, empty; currently highlighted with an orange border).\n4.  **Token Expiration Date** (Date field, defaulting to \"01/04/2024\"). A note below this field reads: \"Default expiration 1 year from today.\"\n\n**Action Buttons:**\nAt the bottom of the screen are two action buttons:\n*   **Reset** (Standard button).\n*   **Authorize** (Primary action button, blue).",
      "position": 2,
      "context": "rong>Primary domain in the Domain field."
    },
    {
      "url": "https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_applicationid.png",
      "alt": "The image displays the Microsoft Azure portal interface for an Application Registration named **SecurityAdvisorAPIAccess**.\n\n**Context and Navigation:**\n*   The currently active blade is **Overview** (highlighted in orange in the left navigation pane).\n*   The left navigation menu includes management sections such as *Quickstart*, *Authentication*, *Certificates & secrets*, *API permissions*, and *Expose an API*.\n*   Action buttons above the main content area include **Delete**, **Endpoints**, and **Preview features**.\n\n**Essentials Section (Core Data):**\nThe main panel focuses on the **Essentials** section, detailing the application's key identifiers and configuration:\n*   **Display name:** `SecurityAdvisorAPIAccess`\n*   **Application (client) ID:** A partially masked GUID (highlighted in orange), ending in `6b`.\n*   **Directory (tenant) ID:** `b0026544-7602-401d-b6ff-a3a12cfb80ca`\n*   **Object ID:** `73dcee00-e598-4c66-aa7e-da4736a0d430`\n*   **Supported account types:** `Multiple organizations`\n\n**Notices and Alerts:**\nThe interface displays two informational banners beneath the Essentials section:\n1.  An information notice welcoming users to the \"new and improved App registrations.\"\n2.  A critical policy notice stating that \"Starting June 30th, 2020 we will no longer add any new features to Azure Active Directory Authentication Library (ADAL) and Azure AD Graph,\" requiring applications to be upgraded to **Microsoft Authentication Library (MSAL)** and **Microsoft Graph**.",
      "position": 3,
      "context": "Essentials section at the top of the page."
    },
    {
      "url": "https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_clientid.png",
      "alt": "A configuration page titled \"Microsoft Azure AD Identity Protection\" is displayed, designed for setting up a vendor integration.\n\n**Header and Context:**\n*   A hyperlink in the upper right corner reads: \"\u2190 Back to Integrations.\"\n*   A blue informational banner provides guidance: \"For more information about configuring this vendor integration, click **Configuration Help.**\"\n*   A corresponding \"Configuration Help\" button is located on the right side of the banner.\n\n**Input Fields (Four fields arranged in two columns):**\n1.  **Client ID:** Text input field (highlighted by an orange border).\n2.  **Client Secret:** Text input field.\n3.  **Domain:** Text input field.\n4.  **Token Expiration Date:** Date input field, pre-filled with the value \"01/04/2024,\" preceded by a calendar icon. A small text hint below the field reads: \"Default expiration 1 year from today.\"\n\n**Actions:**\n*   Two action buttons are located at the bottom left:\n    *   **Reset** (White button with a border).\n    *   **Authorize** (Blue primary button).",
      "position": 4,
      "context": "ong> field, paste your Application (client) ID."
    },
    {
      "url": "https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_clientsecret.png",
      "alt": "This image depicts a configuration screen for integrating \"Microsoft Azure AD Identity Protection.\"\n\n**Header/Navigation:**\n*   The title is **Microsoft Azure AD Identity Protection**.\n*   A link in the top right corner reads **\u2190 Back to Integrations**.\n\n**Information Banner (Light Blue):**\n*   Text reads: \"For more information about configuring this vendor integration, click **Configuration Help**.\"\n*   A button aligned to the right, adjacent to the banner text, is labeled **Configuration Help**.\n\n**Input Fields (Arranged in two columns):**\n1.  **Client ID:** Text input field (empty).\n2.  **Client Secret:** Text input field (highlighted with an orange bounding box).\n3.  **Domain:** Text input field (empty).\n4.  **Token Expiration Date:** Date input field, pre-filled with the date **01/04/2024**. A calendar icon precedes the date.\n    *   A small descriptor below this field states: \"Default expiration 1 year from today.\"\n\n**Action Buttons (Bottom Left):**\n*   **Reset** (White button with gray border).\n*   **Authorize** (Blue primary button).",
      "position": 5,
      "context": "lue for the client secret that you created earlier."
    },
    {
      "url": "https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/microsoft_aad_tokenexpirationdate.png",
      "alt": "The image displays a configuration screen for the **Microsoft Azure AD Identity Protection** vendor integration.\n\n**UI Context and Controls:**\n*   A navigational link, \"Back to Integrations,\" is present in the upper right corner.\n*   An informational light-blue banner is displayed, stating: \"For more information about configuring this vendor integration, click **Configuration Help**,\" adjacent to which is a corresponding \"Configuration Help\" button.\n\n**Form Elements (Credentials and Settings):**\nThe interface features a form requiring four key fields, arranged in two columns:\n1.  **Client ID** (empty text field)\n2.  **Client Secret** (empty text field)\n3.  **Domain** (empty text field)\n4.  **Token Expiration Date** (Highlighted, containing a calendar icon and the date **01/04/2024**). This field includes helper text reading: \"Default expiration 1 year from today.\"\n\n**Action Buttons:**\nAt the bottom of the form, two action buttons are available:\n*   **Reset** (standard button)\n*   **Authorize** (primary blue button)",
      "position": 6,
      "context": "date for the client secret that you created earlier."
    },
    {
      "url": "https://helpimg.s3.amazonaws.com/security_coach/vendor_integrations/MicrosoftEntraIDProtectionUserMapping.png",
      "alt": "This screen is the **Microsoft Entra ID Protection User Mapping** configuration interface, designed to link event identifiers from the Microsoft vendor to specific users within the system (implied to be Knowbe4/KMSAT).\n\n**Context and Navigation:**\nThe primary instructional text confirms mapping can be achieved via two methods, presented as tabs: **Mapping Rules (Recommended)** (currently selected) and **CSV File Upload** (inactive).\n\n**Mapping Rules Configuration:**\nThe active pane, labeled **Configure Mapping Rules**, explains that the process maps users to **KMSAT user data fields**.\n\n1.  **Mapping Rule Element:** A single rule configuration line is displayed, structured as:\n    *   Source Field (Microsoft Entra ID Protection): Currently set to \"Hostname\" (appears as a selected label/button).\n    *   Operator: \"is\".\n    *   Target Field (Knowbe4 User Data Field): A dropdown menu placeholder reading **Select option**.\n    *   Action Button: **Add Field** (to finalize or add this specific mapping element).\n\n2.  **Rule Management:** A hyperlink below the configuration line, **Add Another Rule**, allows users to configure additional mapping conditions.\n\n**Action Buttons (Footer):**\nThe interface concludes with two primary action buttons:\n*   A solid blue button labeled **Save**.\n*   A button with red text/outline labeled **Delete Integration**.",
      "position": 7,
      "context": "'>Mapping Users in SecurityCoach article."
    }
  ],
  "metadata": {
    "category": "SecurityCoach",
    "section": "Microsoft Integrations",
    "topics": [
      "entra",
      "integration",
      "integrations",
      "microsoft",
      "protection",
      "securitycoach"
    ],
    "image_count": 7
  }
}</pre>
</body>
</html>